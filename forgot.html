<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Forgot Page</title>
<link rel = "stylesheet" href="normalize.css" >
<link rel = "stylesheet" href="teststyle.css" >
<script src="https://kit.fontawesome.com/64d58efce2.js">
  crossorigin="anonymous"
</script>
</head>
<style>
  * {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}
body, input {
  font-family: 'Poppins', 'sans-serif';
}

</style>
<body>
  <div class="container">
    <div class="forms-container">
      <div class="signin-signup">
        <form class="sign-in-form">
          <h2 class="title">Reset Password</h2>
          <div class="input-field">
            <i class="fas fa-user"></i>
            <input id="forgot-user" type="text" placeholder="Username" />
          </div>
          <div class="input-field">
            <i class="fas fa-lock"></i>
            <input id="new-password" type="password" placeholder="New Password" />
          </div>
          <div class="input-field">
            <i class="fas fa-lock"></i>
            <input id="confirm-password" type="password" placeholder="Confirm New Password" />
          </div>
          <a href="login.html"><input id="back" type="submit" value="Home" class="btn solid" />
          </a> 
          <div id="error"></div>
        </form>
      </div>
    </div>
    <div class="panels-container">
      <div class="panel left-panel">
        <img src="svg file/forgot.svg" class="image" alt="" />
      </div>
  </div>
  <script>

    // Saving New Data:
    var name = localStorage.setItem("name", document.getElementById("forgot-user").value);
    var newPassword = localStorage.setItem("newPassword", document.getElementById("new-password").value);
    var confirm = localStorage.setItem("confirm", document.getElementById("confirm-password").value);

    function refresh() {
        location.reload();
    }

    function check(){
        if (localStorage.getItem("newPassword") === localStorage.getItem("confirm")){
            console.log("true");
            resets();
            window.location.href="login.html";
        }
        else {
            console.log("false");
            document.getElementById("error").innerHTML = "New Password and Confirm New Password do not match."
            document.getElementById("back").addEventListener("click",refresh);
        }
    }
        function resets() {
        
            var name = localStorage.setItem("name", document.getElementById("forgot-user").value);
            var password = localStorage.setItem("password", document.getElementById("new-password").value);
            var confirm = localStorage.setItem("confirm", document.getElementById("confirm-password").value);
        
        }
        document.addEventListener('DOMContentLoaded', ()=>{
            document.getElementById("back").addEventListener("click",function(event){
                event.preventDefault()
            });
            document.getElementById("back").addEventListener("click",check);
        });


  </script>
</body>
</html>